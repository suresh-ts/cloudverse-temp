@import "tailwindcss";
@import "tw-animate-css";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-sans: "Inter", "Inter Variable", sans-serif;

  /* Colors */
  --color-cv-ink: hsl(var(--cv-ink));
  --color-cv-muted: hsl(var(--cv-muted));
  --color-cv-line: hsl(var(--cv-line));
  --color-cv-surface: hsl(var(--cv-surface));
  --color-cv-surface2: hsl(var(--cv-surface2));
  
  /* Inherit existing functional colors for compatibility but override values */
  --color-background: hsl(var(--cv-surface));
  --color-foreground: hsl(var(--cv-ink));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-border: hsl(var(--cv-line));
  
  /* Spacing */
  --spacing-cv-sec-xl: 88px;
  --spacing-cv-sec-lg: 64px;
  --spacing-cv-sec-md: 44px;

  /* Radius */
  --radius-cv: 20px;
  --radius-lg: var(--radius-cv); /* Override default lg */
  
  /* Shadows */
  --shadow-cv-card: 0 4px 24px -12px rgba(0, 0, 0, 0.08);
}

:root {
  /* Apple Developer-esque Palette - Refined */
  
  /* Core Colors - Light Mode Default */
  --cv-ink: 240 3% 12%;       /* #1d1d1f - Near Black */
  --cv-muted: 240 2% 46%;     /* #86868b - Muted Text */
  --cv-line: 240 5% 90%;      /* #e5e5e5 - Subtle Border */
  --cv-surface: 0 0% 100%;    /* #ffffff - Pure White */
  --cv-surface2: 240 4% 98%;  /* #fbfbfd - Off White/Background */

  /* Functional Mappings */
  --primary: 211 100% 50%; /* #0071e3 */
  --primary-foreground: 0 0% 100%;
  
  /* Shadcn Compat */
  --background: 0 0% 100%;
  --foreground: 240 3% 12%;
  --card: 0 0% 100%;
  --card-foreground: 240 3% 12%;
  --popover: 0 0% 100%;
  --popover-foreground: 240 3% 12%;
  --secondary: 240 4% 96%;
  --secondary-foreground: 240 3% 12%;
  --muted: 240 4% 96%;
  --muted-foreground: 240 2% 46%;
  --accent: 211 100% 96%;
  --accent-foreground: 211 100% 45%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 5% 90%;
  --input: 240 5% 90%;
  --ring: 211 100% 50%;
  --radius: 20px;
}

.dark {
  /* Dark Mode Palette - Apple Developer Dark */
  --cv-ink: 0 0% 98%;         /* #f5f5f7 - Off White Text */
  --cv-muted: 240 2% 63%;     /* #a1a1a6 - Muted Text */
  --cv-line: 240 5% 26%;      /* #38383a - Subtle Border */
  --cv-surface: 0 0% 0%;      /* #000000 - Pure Black */
  --cv-surface2: 240 4% 11%;  /* #1c1c1e - Dark Grey/Card BG */

  /* Functional Mappings for Dark */
  --primary: 211 100% 50%;    /* Keep Blue */
  --primary-foreground: 0 0% 100%;

  /* Shadcn Compat Dark */
  --background: 0 0% 0%;
  --foreground: 0 0% 98%;
  --card: 240 4% 11%;
  --card-foreground: 0 0% 98%;
  --popover: 240 4% 11%;
  --popover-foreground: 0 0% 98%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 2% 63%;
  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 5% 26%;
  --input: 240 5% 26%;
  --ring: 211 100% 50%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply font-sans antialiased bg-cv-surface text-cv-ink;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    -webkit-font-smoothing: antialiased;
  }
  
  /* Typography Classes - Responsive */
  .cv-h1 {
    @apply text-[36px] sm:text-[48px] lg:text-[56px] leading-[42px] sm:leading-[52px] lg:leading-[60px] font-semibold tracking-tight;
  }
  .cv-h2 {
    @apply text-[28px] sm:text-[32px] lg:text-[40px] leading-[34px] sm:leading-[38px] lg:leading-[46px] font-semibold tracking-tight;
  }
  .cv-h3 {
    @apply text-[22px] sm:text-[24px] lg:text-[28px] leading-[28px] sm:leading-[30px] lg:leading-[34px] font-semibold tracking-tight;
  }
  /* Hero Motion Background */
  .hero-motion-bg {
    position: relative;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a0f2e 50%, #0d0d1a 100%);
    overflow: hidden;
  }

  .hero-motion-bg::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse 1200px 900px at 50% 20%,
      rgba(59, 130, 246, 0.55) 0%,
      rgba(139, 92, 246, 0.40) 20%,
      rgba(79, 70, 229, 0.25) 40%,
      transparent 70%
    );
    animation: heroGradientShift 24s ease-in-out infinite;
    pointer-events: none;
  }

  .hero-motion-bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 0.04) 25%, rgba(255, 255, 255, 0.04) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.04) 75%, rgba(255, 255, 255, 0.04) 76%, transparent 77%, transparent),
      linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, 0.04) 25%, rgba(255, 255, 255, 0.04) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.04) 75%, rgba(255, 255, 255, 0.04) 76%, transparent 77%, transparent);
    background-size: 60px 60px;
    pointer-events: none;
  }

  @keyframes heroGradientShift {
    0% {
      filter: brightness(1);
      transform: translate(0, 0);
    }
    25% {
      filter: brightness(1.1);
      transform: translate(-40px, -30px);
    }
    50% {
      filter: brightness(1);
      transform: translate(0, 0);
    }
    75% {
      filter: brightness(1.1);
      transform: translate(40px, -30px);
    }
    100% {
      filter: brightness(1);
      transform: translate(0, 0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-motion-bg::before {
      animation: none;
    }
  }

  .cv-body {
    @apply text-[15px] sm:text-[16px] lg:text-[17px] leading-[24px] sm:leading-[26px] lg:leading-[28px];
  }
  .cv-cap {
    @apply text-[12px] sm:text-[13px] leading-[16px] sm:leading-[18px];
  }
}

@layer components {
  /* Container utilities */
  .cv-container {
    @apply max-w-[1200px] mx-auto px-5 sm:px-6 lg:px-10 xl:px-12;
  }
  .cv-container-wide {
    @apply max-w-[1440px] mx-auto px-5 sm:px-6 lg:px-10 xl:px-12;
  }
  .cv-container-full {
    @apply max-w-[1600px] mx-auto px-5 sm:px-6 lg:px-10 xl:px-12;
  }
  
  /* Section spacing tokens */
  .cv-section-pad {
    @apply py-14 sm:py-16 lg:py-20;
  }
  .cv-section-gap {
    @apply gap-8 sm:gap-10 lg:gap-12;
  }
  
  /* Eyebrow text */
  .cv-eyebrow {
    @apply text-xs tracking-[0.25em] uppercase text-cv-muted;
  }
  
  /* Logo visibility containers - Always white background for logo visibility */
  .logo-pill {
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.08);
    border-radius: 10px;
    padding: 10px 14px;
  }
  
  /* Light mode: slightly tinted background */
  :root:not(.dark) .logo-pill {
    background: rgba(255, 255, 255, 0.98);
    border: 1px solid rgba(0, 0, 0, 0.06);
  }
  
  /* Shimmer animation for processing states */
  @keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  .animate-shimmer {
    animation: shimmer 1.5s ease-in-out infinite;
  }
}
